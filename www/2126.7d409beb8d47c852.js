"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2126],{2126:(N,d,s)=>{s.r(d),s.d(d,{BookedSlotsPageModule:()=>D});var g=s(177),f=s(9417),a=s(7415),u=s(9025),p=s(467),b=s(7366),C=s(7586),r=s.n(C),t=s(4438),P=s(8312);function h(o,l){1&o&&t.eu8(0)}function M(o,l){if(1&o&&(t.j41(0,"div",30),t.DNE(1,h,1,0,"ng-container",31),t.k0s()),2&o){t.XpG();const n=t.sdS(49);t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function O(o,l){if(1&o&&(t.j41(0,"ion-label",25),t.EFF(1),t.k0s()),2&o){const n=t.XpG().$implicit,i=t.XpG();t.R7$(),t.JRh(i.vendorDeatil.conceirge?"":"Verification Code:"+n.verifyCode)}}function k(o,l){1&o&&t.eu8(0)}function v(o,l){if(1&o&&(t.j41(0,"div",30),t.DNE(1,k,1,0,"ng-container",31),t.k0s()),2&o){t.XpG();const n=t.sdS(49);t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function x(o,l){if(1&o){const n=t.RV6();t.j41(0,"ion-icon",32),t.bIt("click",function(){t.eBV(n);const e=t.XpG().$implicit;return t.Njj(e.options=!1)}),t.k0s(),t.j41(1,"ul")(2,"li")(3,"button",33),t.bIt("click",function(){t.eBV(n);const e=t.XpG(),c=e.$implicit,_=e.index,w=t.XpG();return t.Njj(w.confirmCancelAppointment(c,_))}),t.EFF(4,"Cancel Request"),t.k0s()()()}if(2&o){const n=t.XpG().$implicit;t.R7$(3),t.Y8G("disabled","COMPLETED"===n.bookingStatus)}}function y(o,l){if(1&o){const n=t.RV6();t.j41(0,"tr")(1,"td",11)(2,"div",12),t.EFF(3),t.k0s()(),t.j41(4,"td",13),t.EFF(5),t.k0s(),t.j41(6,"td",13),t.EFF(7),t.k0s(),t.j41(8,"td",13),t.EFF(9),t.k0s(),t.j41(10,"td",13)(11,"div",16)(12,"ion-label",17)(13,"span",18),t.EFF(14),t.k0s()(),t.j41(15,"div",19)(16,"ion-button",20),t.bIt("click",function(){const e=t.eBV(n).$implicit;return t.Njj(e.options=!e.options)}),t.nrm(17,"ion-icon",21),t.k0s()(),t.DNE(18,M,2,1,"div",22),t.k0s()(),t.j41(19,"td",23)(20,"div",24)(21,"ion-label",25)(22,"b"),t.EFF(23,"Name:- "),t.k0s(),t.EFF(24),t.k0s(),t.j41(25,"ion-label",25)(26,"b"),t.EFF(27,"Slot Time:- "),t.k0s(),t.EFF(28),t.k0s(),t.j41(29,"ion-label",25)(30,"b"),t.EFF(31,"Room Number:- "),t.k0s(),t.EFF(32),t.k0s(),t.j41(33,"ion-label",25)(34,"b"),t.EFF(35,"Comments:- "),t.k0s(),t.EFF(36),t.k0s(),t.DNE(37,O,2,1,"ion-label",26),t.j41(38,"div",27)(39,"div",28)(40,"ion-label",29)(41,"span",18),t.EFF(42),t.k0s()()()(),t.j41(43,"div",16)(44,"div",19)(45,"ion-button",20),t.bIt("click",function(){const e=t.eBV(n).$implicit;return t.Njj(e.options=!e.options)}),t.nrm(46,"ion-icon",21),t.k0s()(),t.DNE(47,v,2,1,"div",22),t.k0s()()(),t.DNE(48,x,5,1,"ng-template",null,0,t.C5r),t.k0s()}if(2&o){const n=l.$implicit,i=t.XpG();t.R7$(3),t.SpI(" ",n.storeName," "),t.R7$(2),t.SpI(" ",n.slotTime," "),t.R7$(2),t.SpI(" ",n.room_no?n.room_no:"-"," "),t.R7$(2),t.SpI(" ",n.comments," "),t.R7$(4),t.Y8G("className","consultation-status-tag new"),t.R7$(),t.JRh(n.bookingStatus?n.bookingStatus:"New"),t.R7$(4),t.Y8G("ngIf",n.options),t.R7$(6),t.JRh(n.storeName),t.R7$(4),t.JRh(n.slotTime),t.R7$(4),t.JRh(n.room_no),t.R7$(4),t.JRh(n.comments),t.R7$(),t.Y8G("ngIf",!i.vendorDeatil.conceirge),t.R7$(4),t.Y8G("className","consultation-status-tag new"),t.R7$(),t.JRh(n.bookingStatus?n.bookingStatus:"New"),t.R7$(5),t.Y8G("ngIf",n.options)}}function F(o,l){1&o&&(t.j41(0,"div",34),t.EFF(1," There are no pending appointments "),t.k0s())}let m=(()=>{class o{constructor(n,i,e,c){this.appService=n,this.utilAlertService=i,this.loadingController=e,this.alertController=c,this.bookedCustomers=[],this.selectedDate=new Date}ngOnInit(){}ionViewWillEnter(){this.getVendorDeatil(),this.user=JSON.parse(localStorage.getItem("user")),this.user&&this.search()}selectPreviousDate(){this.selectedDate=r()(this.selectedDate).subtract(1,"days"),this.bookedCustomers=[],this.search()}selectNextDate(){this.selectedDate=r()(this.selectedDate).add(1,"days"),this.bookedCustomers=[],this.search()}search(){var n=this;return(0,p.A)(function*(){const i={userType:n.user.type,userId:n.user.userId,date:r()(n.selectedDate).format("DD-MM-YYYY")},e=yield n.loadingController.create({message:"Loading..."});yield e.present(),n.appService.getBookedCustomerList(i).subscribe(c=>{c&&c.body&&(n.bookedCustomers=c.body),e.dismiss()},()=>{e.dismiss()})})()}confirmCancelAppointment(n,i){var e=this;return(0,p.A)(function*(){n.options=!1,yield(yield e.alertController.create({cssClass:"my-custom-class",header:"Confirm!",message:"Are you sure you want to cancel this request?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:_=>{}},{text:"Confirm",handler:()=>{e.cancelAppointment(n,i)}}]})).present()})()}cancelAppointment(n,i){this.appService.cancelSlot({bookingId:n.idBooking}).subscribe(c=>{c&&c.body&&(this.bookedCustomers.splice(i,1),this.utilAlertService.showSuccess("Your slot is cancelled"))})}getVendorDeatil(){this.appService.vendorDeatil.subscribe(n=>{this.vendorDeatil=n})}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(b.d),t.rXU(P.e),t.rXU(a.Xi),t.rXU(a.hG))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-booked-slots"]],standalone:!0,features:[t.aNF],decls:29,vars:6,consts:[["statusList",""],[1,"container"],[1,"date-selection"],["fill","clear","size","small",3,"click"],["slot","icon-only","name","chevron-back-sharp"],[1,"slots-showing-day"],["slot","icon-only","name","chevron-forward-sharp"],[1,"consultation-list-container","p-0"],[1,"p-0",2,"width","100%"],["size","12",1,"p-0"],[1,"consultation-table"],[1,"availability-column","ion-hide-sm-down",2,"width","20%"],[1,"d-flex","align-items-center"],[1,"ion-hide-sm-down",2,"width","20%"],[4,"ngFor","ngForOf"],["class","no-result",4,"ngIf"],[1,"action-container"],[1,"ion-text-wrap","mr-1",2,"min-width","200px"],[3,"className"],[1,"options"],["slot","end","tappable","","strong","true","fill","block",1,"menu-btn",3,"click"],["name","ellipsis-vertical"],["class","status-popover",4,"ngIf"],[1,"ion-hide-sm-up",2,"width","97%","padding-top","0"],[1,"mobile-view-contaner"],[1,"name"],["class","name",4,"ngIf"],[1,"status"],[1,"d-flex"],[1,"ion-text-wrap","mr-1"],[1,"status-popover"],[4,"ngTemplateOutlet"],["name","close",3,"click"],[3,"click","disabled"],[1,"no-result"]],template:function(i,e){1&i&&(t.j41(0,"ion-content")(1,"div",1)(2,"div",2)(3,"ion-button",3),t.bIt("click",function(){return e.selectPreviousDate()}),t.nrm(4,"ion-icon",4),t.k0s(),t.j41(5,"ion-label",5),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"ion-button",3),t.bIt("click",function(){return e.selectNextDate()}),t.nrm(9,"ion-icon",6),t.k0s()(),t.j41(10,"ion-grid",7)(11,"ion-row",8)(12,"ion-col",9)(13,"table",10)(14,"tbody")(15,"tr")(16,"td",11)(17,"div",12),t.EFF(18,"Name"),t.k0s()(),t.j41(19,"td",13),t.EFF(20," Slot Time "),t.k0s(),t.j41(21,"td",13),t.EFF(22," Room Number "),t.k0s(),t.j41(23,"td",13),t.EFF(24," Comments "),t.k0s(),t.j41(25,"td",13),t.EFF(26," Status "),t.k0s()(),t.DNE(27,y,50,15,"tr",14),t.k0s()(),t.DNE(28,F,2,0,"div",15),t.k0s()()()()()),2&i&&(t.R7$(6),t.JRh(t.i5U(7,3,e.selectedDate,"EE, MMMM d, yyyy")),t.R7$(21),t.Y8G("ngForOf",e.bookedCustomers),t.R7$(),t.Y8G("ngIf",e.bookedCustomers&&0===e.bookedCustomers.length))},dependencies:[a.bv,a.Jm,a.hU,a.W9,a.lO,a.iq,a.he,a.ln,g.vh],styles:[".booked-customer-list[_ngcontent-%COMP%]   .booked-customer-item[_ngcontent-%COMP%]{font-size:9pt;color:#414141;font-weight:400;--min-height: 32px}.booked-customer-list[_ngcontent-%COMP%]   .booked-customer-item[_ngcontent-%COMP%]   --padding[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;align-items:center}.date-selection[_ngcontent-%COMP%]{display:flex;margin:4pt 0;justify-content:space-between;align-items:center}.date-selection[_ngcontent-%COMP%]   .slots-showing-day[_ngcontent-%COMP%]{font-size:12pt;color:#414141}.today[_ngcontent-%COMP%]{background-color:#000}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]{font-size:9pt;color:#414141;font-weight:400;--min-height: 32px}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .name-label[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .name-label[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#3cb371}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   --padding[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{min-height:15px;font-size:7pt;font-weight:500;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 0px;--padding-bottom: 0px;line-height:unset;--border-radius: 3px;color:#f3f3f3}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn.old[_ngcontent-%COMP%]{--background: lightgrey}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{min-height:15px;font-size:7pt;font-weight:500;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 0px;--padding-bottom: 0px;line-height:unset;--border-radius: 3px;--background: #747474;color:#f3f3f3}.consultation-list[_ngcontent-%COMP%]   .consultation-item.today[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{--background: mediumseagreen}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .age[_ngcontent-%COMP%]{font-size:80%}.text-right[_ngcontent-%COMP%]{text-align:right}.options[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}.options[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{font-size:9pt;--background: transparent;color:#414141;--background-hover: transparent}.appt-default-button[_ngcontent-%COMP%]{font-size:14px;--background: #ffffff;--border-width: 1px;--border-radius: 14px !important;--padding-start: 14px;--padding-end: 14px;--padding-top: 0px;--padding-bottom: 0px;--background-hover: #2cd18a;--background-hover-opacity: 1;--background-activated: #2cd18a;--box-shadow: none;height:28px;min-width:112px;line-height:normal;margin-left:4pt;font-weight:600}.appt-default-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{text-transform:none}.appt-default-button.book-btn[_ngcontent-%COMP%]{--border-color: #2cd18a;color:#414141}.appt-default-button.other-btn[_ngcontent-%COMP%]{--border-color: #b1b1b1;color:#414141}.appt-default-button[_ngcontent-%COMP%]:hover{color:#fff}.consultation-list-container[_ngcontent-%COMP%]{padding:0 40px}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]{width:100%}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{background-color:#fafafa}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .value-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .value-label[_ngcontent-%COMP%]{font-size:14px;color:#414141}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .text-small[_ngcontent-%COMP%]{font-size:13px;color:#717171}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #eae8e8}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.consultation-list-container[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]{display:flex;flex-direction:column}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;color:#414141;line-height:20px}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .patient-name[_ngcontent-%COMP%]{font-size:14px;color:#717171;line-height:20px;word-break:break-word}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#717171;font-size:12px;line-height:20px}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex}.consultation-list-container[_ngcontent-%COMP%]   .no-result[_ngcontent-%COMP%]{color:#df5e57;padding:8px;display:flex;justify-content:center}.consultation-status-tag[_ngcontent-%COMP%]{padding:2px 8px;border-radius:2px;font-size:11px;font-weight:600;color:#fff;background:#3688cb}.consultation-status-tag.new[_ngcontent-%COMP%]{color:#fff;background:#3688cb}.consultation-status-tag.PENDING[_ngcontent-%COMP%]{color:#fff;background:#9a92c9}.consultation-status-tag.SCHEDULED[_ngcontent-%COMP%]{color:#fff;background:#3688cb}.consultation-status-tag.IN_PROGRESS[_ngcontent-%COMP%]{color:#fff;background:#e88231}.consultation-status-tag.CANCELLED_BY_PATIENT[_ngcontent-%COMP%], .consultation-status-tag.CANCELLED_BY_DOCTOR[_ngcontent-%COMP%], .consultation-status-tag.CANCELLED_BY_SYSTEM[_ngcontent-%COMP%]{color:#fff;background:#df5e57}.consultation-status-tag.COMPLETED[_ngcontent-%COMP%]{color:#fff;background:#4f8b46}"]})}}return o})();const E=[{path:"",component:m}];let S=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(E),u.iI]})}}return o})();var j=s(5553),R=s(2046);let D=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[g.MD,f.YN,a.bv,j.h,R.k0.forRoot(),S,m]})}}return o})()}}]);